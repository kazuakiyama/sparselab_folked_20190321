

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. References for Sparselab Modules &mdash; Sparselab 1.0beta documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Sparselab 1.0beta documentation" href="../index.html"/>
        <link rel="prev" title="1. Installation" href="../_static/install.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Sparselab
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../_static/install.html">1. Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. References for Sparselab Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-sparselab.imdata">2.1. sparselab.imdata</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparselab.uvdata">2.2. sparselab.uvdata</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sparselab-imaging">2.3. sparselab.imaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparselab.mfista">2.4. sparselab.mfista</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparselab.ft">2.5. sparselab.ft</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparselab.util">2.6. sparselab.util</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sparselab</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>2. References for Sparselab Modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_autodoc/sparselab.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="references-for-sparselab-modules">
<h1>2. References for Sparselab Modules<a class="headerlink" href="#references-for-sparselab-modules" title="Permalink to this headline">¶</a></h1>
<p>Sparselab consists of three core python modules, <strong>imdata</strong>, <strong>uvdata</strong> and <strong>imaging</strong>.</p>
<div class="section" id="module-sparselab.imdata">
<span id="sparselab-imdata"></span><h2>2.1. sparselab.imdata<a class="headerlink" href="#module-sparselab.imdata" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="sparselab.imdata.IMFITS">
<em class="property">class </em><code class="descclassname">sparselab.imdata.</code><code class="descname">IMFITS</code><span class="sig-paren">(</span><em>fitsfile=None</em>, <em>uvfitsfile=None</em>, <em>source=None</em>, <em>dx=2.0</em>, <em>dy=None</em>, <em>nx=100</em>, <em>ny=None</em>, <em>nxref=None</em>, <em>nyref=None</em>, <em>angunit='uas'</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="sparselab.imdata.IMFITS.add_gauss">
<code class="descname">add_gauss</code><span class="sig-paren">(</span><em>x0=0.0</em>, <em>y0=0.0</em>, <em>totalflux=1.0</em>, <em>majsize=1.0</em>, <em>minsize=None</em>, <em>pa=0.0</em>, <em>istokes=0</em>, <em>ifreq=0</em>, <em>angunit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.add_gauss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.angconv">
<code class="descname">angconv</code><span class="sig-paren">(</span><em>unit1='deg'</em>, <em>unit2='deg'</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.angconv" title="Permalink to this definition">¶</a></dt>
<dd><p>return a conversion factor from unit1 to unit2
Available angular units are uas, mas, asec or arcsec, amin or arcmin and degree.</p>
</dd></dl>

<dl class="attribute">
<dt id="sparselab.imdata.IMFITS.angunit">
<code class="descname">angunit</code><em class="property"> = 'mas'</em><a class="headerlink" href="#sparselab.imdata.IMFITS.angunit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.circle_hough">
<code class="descname">circle_hough</code><span class="sig-paren">(</span><em>radius</em>, <em>ntheta=360</em>, <em>angunit=None</em>, <em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.circle_hough" title="Permalink to this definition">¶</a></dt>
<dd><p>A function calculates the circle Hough transform (CHT) of the input image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>radius</strong> (<em>array</em>) – array for radii for which the circle Hough transform is
calculated. The unit of the radius is specified with angunit.</li>
<li><strong>Ntheta</strong> (<em>optional</em><em>, </em><em>integer</em>) – The number of circular shifts to be used in the circle Hough transform.
For instance, ntheta=360 (default) gives circular shifts of every 1 deg.</li>
<li><strong>angunit</strong> (<em>optional</em><em>, </em><em>string</em>) – The angular unit for radius and also the output peak profile</li>
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the CHT to be performed</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the CHT to be performed</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>The Circle Hough Accumulator. This is a three dimensional array of which</dt>
<dd><p class="first last">shape is [Nx, Ny, Nr] in <em>Fortran Order</em>.</p>
</dd>
<dt>profile (pd.DataFrame):</dt>
<dd><p class="first last">The table for the peak profile Hr(r)=max_r(H(x,y,r)).</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">H (ndarray)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.comshift">
<code class="descname">comshift</code><span class="sig-paren">(</span><em>save_totalflux=False</em>, <em>ifreq=0</em>, <em>istokes=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.comshift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the image so that its center-of-mass position coincides with the reference pixel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the image will be edited</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the image will be edited</li>
<li><strong>save_totalflux</strong> (<em>boolean</em>) – If true, the total flux of the image will be conserved.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">imdata.IMFITS object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.contour">
<code class="descname">contour</code><span class="sig-paren">(</span><em>cmul=None</em>, <em>levels=None</em>, <em>angunit=None</em>, <em>colors='white'</em>, <em>relative=True</em>, <em>istokes=0</em>, <em>ifreq=0</em>, <em>**contour_args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>plot contours of the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the image will be plotted</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the image will be plotted</li>
<li><strong>angunit</strong> (<em>string</em>) – Angular Unit for the axis labels (pixel, uas, mas, asec or arcsec, amin or arcmin, degree)</li>
<li><strong>colors</strong> (<em>string</em><em>, </em><em>array-like</em>) – colors of contour levels</li>
<li><strong>cmul</strong> – The lowest contour level. Default value is 1% of the peak intensity.</li>
<li><strong>levels</strong> – contour level. This will be multiplied with cmul.</li>
<li><strong>**contour_args</strong> – Args will be input in matplotlib.pyplot.contour</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.cpimage">
<code class="descname">cpimage</code><span class="sig-paren">(</span><em>fitsdata</em>, <em>save_totalflux=False</em>, <em>order=3</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.cpimage" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the first image into the image grid specified in the secondaly input image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fitsdata</strong> – input imagefite.imagefits object. This image will be copied into self.</li>
<li><strong>self</strong> – input imagefite.imagefits object specifying the image grid where the orgfits data will be copied.</li>
<li><strong>save_totalflux</strong> (<em>boolean</em>) – If true, the total flux of the image will be conserved.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sparselab.imdata.IMFITS.ds9">
<code class="descname">ds9</code><em class="property"> = None</em><a class="headerlink" href="#sparselab.imdata.IMFITS.ds9" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.ds9flag">
<code class="descname">ds9flag</code><span class="sig-paren">(</span><em>regfile</em>, <em>save_totalflux=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.ds9flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Flagging the image with DS9region file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>self</strong> – input imagefite.imagefits object</li>
<li><strong>regfile</strong> (<em>string</em>) – input DS9 region file</li>
<li><strong>save_totalflux</strong> (<em>boolean</em>) – If true, the total flux of the image will be conserved.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sparselab.imdata.IMFITS.ds9region">
<code class="descname">ds9region</code><em class="property"> = None</em><a class="headerlink" href="#sparselab.imdata.IMFITS.ds9region" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.edge_detect">
<code class="descname">edge_detect</code><span class="sig-paren">(</span><em>method='prewitt'</em>, <em>mask=None</em>, <em>sigma=1</em>, <em>low_threshold=0.1</em>, <em>high_threshold=0.2</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.edge_detect" title="Permalink to this definition">¶</a></dt>
<dd><p>Output edge-highlighted images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>string</em><em>, </em><em>default=&quot;prewitt&quot;</em>) – Type of edge filters to be used.
Availables are [“prewitt”,”sobel”,”scharr”,”roberts”,”canny”].</li>
<li><strong>mask</strong> (<em>array</em>) – array for masking</li>
<li><strong>sigma</strong> (<em>integer</em>) – index for canny</li>
<li><strong>low_threshold</strong> (<em>float</em>) – index for canny</li>
<li><strong>high_threshold</strong> (<em>float</em>) – index for canny</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">imdata.IMFITS object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.from_geomodel">
<code class="descname">from_geomodel</code><span class="sig-paren">(</span><em>geomodel</em>, <em>istokes=0</em>, <em>ifreq=0</em>, <em>overwrite=True</em>, <em>usetheano=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.from_geomodel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modelfunc</strong> (<em>func</em><em>, </em><em>must be lambda x</em><em>,</em><em>y</em>) – a function to compute brightness at x, y (in rad).
The unit of brightness must be Jy/rad^2</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.gauss_convolve">
<code class="descname">gauss_convolve</code><span class="sig-paren">(</span><em>majsize</em>, <em>minsize=None</em>, <em>x0=None</em>, <em>y0=None</em>, <em>pa=0.0</em>, <em>scale=1.0</em>, <em>angunit=None</em>, <em>pos='rel'</em>, <em>save_totalflux=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.gauss_convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian Convolution</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>self</strong> – input imagefite.imagefits object</li>
<li><strong>majsize</strong> (<em>float</em>) – Major Axis Size</li>
<li><strong>minsize</strong> (<em>float</em>) – Minor Axis Size. If None, it will be same to the Major Axis Size (Circular Gaussian)</li>
<li><strong>angunit</strong> (<em>string</em>) – Angular Unit for the sizes (uas, mas, asec or arcsec, amin or arcmin, degree)</li>
<li><strong>pa</strong> (<em>float</em>) – Position Angle of the Gaussian</li>
<li><strong>scale</strong> (<em>float</em>) – The sizes will be multiplied by this value.</li>
<li><strong>save_totalflux</strong> (<em>boolean</em>) – If true, the total flux of the image will be conserved.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.get_imextent">
<code class="descname">get_imextent</code><span class="sig-paren">(</span><em>angunit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.get_imextent" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the field of view of the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>angunit</strong> (<em>string</em>) – Angular unit (uas, mas, asec or arcsec, amin or arcmin, degree)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.get_xygrid">
<code class="descname">get_xygrid</code><span class="sig-paren">(</span><em>twodim=False</em>, <em>angunit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.get_xygrid" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the grid of the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>angunit</strong> (<em>string</em>) – Angular unit (uas, mas, asec or arcsec, amin or arcmin, degree)</li>
<li><strong>twodim</strong> (<em>boolean</em>) – It True, the 2D grids will be returned. Otherwise, the 1D arrays will be returned</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.hard_threshold">
<code class="descname">hard_threshold</code><span class="sig-paren">(</span><em>threshold=0.01</em>, <em>relative=True</em>, <em>save_totalflux=False</em>, <em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.hard_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Do hard-threshold the input image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the image will be edited</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the image will be edited</li>
<li><strong>threshold</strong> (<em>float</em>) – threshold</li>
<li><strong>relative</strong> (<em>boolean</em>) – If true, theshold value will be normalized with the peak intensity of the image</li>
<li><strong>save_totalflux</strong> (<em>boolean</em>) – If true, the total flux of the image will be conserved.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.imshow">
<code class="descname">imshow</code><span class="sig-paren">(</span><em>logscale=False</em>, <em>angunit=None</em>, <em>vmin=None</em>, <em>istokes=0</em>, <em>ifreq=0</em>, <em>**imshow_args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.imshow" title="Permalink to this definition">¶</a></dt>
<dd><p>plot contours of the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>logscale</strong> (<em>boolean</em>) – If True, the color contour will be on log scales. Otherise,
the color contour will be on linear scales.</li>
<li><strong>angunit</strong> (<em>string</em>) – Angular Unit for the axis labels (pixel, uas, mas, asec or arcsec,
amin or arcmin, degree)</li>
<li><strong>vmin</strong> (<em>string</em>) – minimum value of the color contour in Jy/pixel</li>
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the image will be plotted</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the image will be plotted</li>
<li><strong>**imshow_args</strong> – Args will be input in matplotlib.pyplot.imshow</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.init_header">
<code class="descname">init_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.init_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.l1norm">
<code class="descname">l1norm</code><span class="sig-paren">(</span><em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.l1norm" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate l1-norm of the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which l1-norm will be calculated</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which l1-norm will be calculated</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.open_ds9">
<code class="descname">open_ds9</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.open_ds9" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.peak">
<code class="descname">peak</code><span class="sig-paren">(</span><em>absolute=False</em>, <em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.peak" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the peak intensity of the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the peak intensity will be calculated</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the peak intensity will be calculated</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.peakshift">
<code class="descname">peakshift</code><span class="sig-paren">(</span><em>save_totalflux=False</em>, <em>ifreq=0</em>, <em>istokes=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.peakshift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the image so that its peak position coincides with the reference pixel.</p>
<dl class="docutils">
<dt>Arg:</dt>
<dd><dl class="first last docutils">
<dt>istokes (integer):</dt>
<dd>index for Stokes Parameter at which the image will be edited</dd>
<dt>ifreq (integer):</dt>
<dd>index for Frequency at which the image will be edited</dd>
<dt>save_totalflux (boolean):</dt>
<dd>If true, the total flux of the image will be conserved.</dd>
</dl>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">imdata.IMFITS object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.read_cleanbox">
<code class="descname">read_cleanbox</code><span class="sig-paren">(</span><em>regfile</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.read_cleanbox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.read_ds9reg">
<code class="descname">read_ds9reg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.read_ds9reg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.read_fits">
<code class="descname">read_fits</code><span class="sig-paren">(</span><em>fitsfile</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.read_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from the image FITS file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fitsfile</strong> (<em>string</em>) – input image FITS file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.read_uvfitsheader">
<code class="descname">read_uvfitsheader</code><span class="sig-paren">(</span><em>infits</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.read_uvfitsheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Read header information from uvfits file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>infits</strong> (<em>string</em>) – input uv-fits file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>angle=0</em>, <em>deg=True</em>, <em>save_totalflux=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the input image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>self</strong> – input imagefite.imagefits object</li>
<li><strong>angle</strong> (<em>float</em>) – Rotational Angle. Anti-clockwise direction will be positive (same to the Position Angle).</li>
<li><strong>deg</strong> (<em>boolean</em>) – It true, then the unit of angle will be degree. Otherwise, it will be radian.</li>
<li><strong>save_totalflux</strong> (<em>boolean</em>) – If true, the total flux of the image will be conserved.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.save_fits">
<code class="descname">save_fits</code><span class="sig-paren">(</span><em>outfitsfile</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.save_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>save the image(s) to the image FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outfitsfile</strong> (<em>string</em>) – file name</li>
<li><strong>overwrite</strong> (<em>boolean</em>) – It True, an existing file will be overwritten.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.set_source">
<code class="descname">set_source</code><span class="sig-paren">(</span><em>source='SgrA*'</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.set_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.soft_threshold">
<code class="descname">soft_threshold</code><span class="sig-paren">(</span><em>threshold=0.01</em>, <em>relative=True</em>, <em>save_totalflux=False</em>, <em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.soft_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Do soft-threshold the input image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the image will be edited</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the image will be edited</li>
<li><strong>threshold</strong> (<em>float</em>) – threshold</li>
<li><strong>relative</strong> (<em>boolean</em>) – If true, theshold value will be normalized with the peak intensity of the image</li>
<li><strong>save_totalflux</strong> (<em>boolean</em>) – If true, the total flux of the image will be conserved.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.to_difmapmod">
<code class="descname">to_difmapmod</code><span class="sig-paren">(</span><em>outfile</em>, <em>threshold=None</em>, <em>relative=True</em>, <em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.to_difmapmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an image into a difmap model file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the image will be saved</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the image will be saved</li>
<li><strong>threshold</strong> (<em>float</em>) – pixels with the absolute intensity smaller than this value will be ignored.</li>
<li><strong>relative</strong> (<em>boolean</em>) – If true, theshold value will be normalized with the peak intensity of the image.</li>
<li><strong>save_totalflux</strong> (<em>boolean</em>) – If true, the total flux of the image will be conserved.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.totalflux">
<code class="descname">totalflux</code><span class="sig-paren">(</span><em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.totalflux" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the total flux of the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>istokes</strong> (<em>integer</em>) – index for Stokes Parameter at which the total flux will be calculated</li>
<li><strong>ifreq</strong> (<em>integer</em>) – index for Frequency at which the total flux will be calculated</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.update_fits">
<code class="descname">update_fits</code><span class="sig-paren">(</span><em>cctab=True</em>, <em>threshold=None</em>, <em>relative=True</em>, <em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.update_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Reflect current self.data / self.header info to the image FITS data.
:param cctab: If True, AIPS CC table is attached to fits file.
:type cctab: boolean
:param istokes: index for Stokes Parameter at which the image will be used for CC table.
:type istokes: integer
:param ifreq: index for Frequency at which the image will be used for CC table.
:type ifreq: integer
:param threshold: pixels with the absolute intensity smaller than this value will be ignored in CC table.
:type threshold: float
:param relative: If true, theshold value will be normalized with the peak intensity of the image.
:type relative: boolean</p>
</dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.winmod">
<code class="descname">winmod</code><span class="sig-paren">(</span><em>imagewin</em>, <em>save_totalflux=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.winmod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.imdata.IMFITS.zeropad">
<code class="descname">zeropad</code><span class="sig-paren">(</span><em>Mx</em>, <em>My</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.IMFITS.zeropad" title="Permalink to this definition">¶</a></dt>
<dd><p>Uniformly pad zero and extend fov of the image to (My, Mx) pixels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>self</strong> – input imagefite.imagefits object</li>
<li><strong>Mx</strong> (<em>integer</em>) – Number of pixels in RA (x) direction for the padded image.</li>
<li><strong>My</strong> (<em>integer</em>) – Number of pixels in Dec(y) direction for the padded image.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">imdata.IMFITS object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sparselab.imdata.calc_metric">
<code class="descclassname">sparselab.imdata.</code><code class="descname">calc_metric</code><span class="sig-paren">(</span><em>fitsdata</em>, <em>reffitsdata</em>, <em>metric='NRMSE'</em>, <em>istokes1=0</em>, <em>ifreq1=0</em>, <em>istokes2=0</em>, <em>ifreq2=0</em>, <em>edgeflag=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imdata.calc_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics between two images</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fitsdata</strong> (<em>imdata.IMFITS object</em>) – input image</li>
<li><strong>reffitsdata</strong> (<em>imdata.IMFITS object</em>) – reference image</li>
<li><strong>metric</strong> (<em>string</em>) – type of a metric to be calculated.
Availables are [“NRMSE”,”MSE”,”SSIM”,”DSSIM”]</li>
<li><strong>istokes1</strong> (<em>integer</em>) – index for the Stokes axis of the input image</li>
<li><strong>ifreq1</strong> (<em>integer</em>) – index for the frequency axis of the input image</li>
<li><strong>istokes2</strong> (<em>integer</em>) – index for the Stokes axis of the reference image</li>
<li><strong>ifreq2</strong> (<em>integer</em>) – index for the frequency axis of the reference image</li>
<li><strong>edgeflag</strong> (<em>boolean</em>) – calculation of metric on image domain or image gradient domain</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>???</p>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-sparselab.uvdata">
<span id="sparselab-uvdata"></span><h2>2.2. sparselab.uvdata<a class="headerlink" href="#module-sparselab.uvdata" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="sparselab.uvdata.BSTable">
<em class="property">class </em><code class="descclassname">sparselab.uvdata.</code><code class="descname">BSTable</code><span class="sig-paren">(</span><em>data=None</em>, <em>index=None</em>, <em>columns=None</em>, <em>dtype=None</em>, <em>copy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.BSTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sparselab.uvdata._UVTable</span></code></p>
<p>This class is for handling two dimentional tables of Bi-spectrua of
visibilities. The class inherits pandas.DataFrame class, so you can use this
class like pandas.DataFrame. The class also has additional methods to edit,
visualize and convert data.</p>
<dl class="method">
<dt id="sparselab.uvdata.BSTable.ave_bstable">
<code class="descname">ave_bstable</code><span class="sig-paren">(</span><em>Integ=300.0</em>, <em>dofreq=2</em>, <em>minpoint=2</em>, <em>uvwsep=1</em>, <em>k=1</em>, <em>flagweight=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.BSTable.ave_bstable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bstable</strong> (<em>BSTable object</em>) – input bstable</li>
<li><strong>Integ</strong> (<em>float</em>) – Integration time (sec)</li>
<li><strong>dofreq</strong> (<em>int; default = 2</em>) – <dl class="docutils">
<dt>Parameter for multi-frequency data.</dt>
<dd>dofreq = 0: calculate weights and sigmas over IFs and channels
dofreq = 1: calculate weights and sigmas over channels at each IF
dofreq = 2: calculate weights and sigmas at each IF and Channel</dd>
</dl>
</li>
<li><strong>flagweight</strong> (<em>boolean; default = True</em>) – Select calculating weight using or not using weight of original data</li>
<li><strong>minpoint</strong> (<em>int; default = 2</em>) – minimum number of data points</li>
<li><strong>uvwsep</strong> (<em>int; default = 1</em>) – a number of separations to entire time period to calculate u, v, w
using a spline interpolation</li>
<li><strong>k</strong> (<em>int; default = 1</em>) – The degree of the spline fit</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">uvdata.BSTable object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sparselab.uvdata.BSTable.bstable_columns">
<code class="descname">bstable_columns</code><em class="property"> = ['utc', 'gsthour', 'freq', 'stokesid', 'chid', 'ifid', 'ch', 'u12', 'v12', 'w12', 'uvdist12', 'u23', 'v23', 'w23', 'uvdist23', 'u31', 'v31', 'w31', 'uvdist31', 'uvdistmin', 'uvdistmax', 'uvdistave', 'st1', 'st2', 'st3', 'ch', 'amp', 'phase', 'sigma']</em><a class="headerlink" href="#sparselab.uvdata.BSTable.bstable_columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sparselab.uvdata.BSTable.bstable_types">
<code class="descname">bstable_types</code><em class="property"> = [&lt;function asarray&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;]</em><a class="headerlink" href="#sparselab.uvdata.BSTable.bstable_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.BSTable.radplot">
<code class="descname">radplot</code><span class="sig-paren">(</span><em>uvdtype='ave'</em>, <em>uvunit=None</em>, <em>errorbar=True</em>, <em>model=None</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.BSTable.radplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot closure phases as a function of baseline lengths on the current axes.
This method uses matplotlib.pyplot.plot() or matplotlib.pyplot.errorbar().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvdtype</strong> (<em>str</em><em>, </em><em>default = &quot;ave&quot;</em>) – <dl class="docutils">
<dt>The type of the baseline length plotted along the horizontal axis.</dt>
<dd>”max”: maximum of three baselines (=self[“uvdistmax”])
“min”: minimum of three baselines (=self[“uvdistmin”])
“ave”: average of three baselines (=self[“uvdistave”])</dd>
</dl>
</li>
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>errorbar</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – <p>If errorbar is True, it will plot data with errorbars using
matplotlib.pyplot.errorbar(). Otherwise, it will plot data without
errorbars using matplotlib.pyplot.plot().</p>
<p>If you plot model closure phases (i.e. model is not None),
it will plot without errobars regardless of this parameter.</p>
</li>
<li><strong>model</strong> (<em>dict-like such as pd.DataFrame</em><em>, </em><em>pd.Series</em><em>, </em><em>default is None</em>) – Model data sets. Model closure phases must be given by model[“cpmod”].
Otherwise, it will plot closure phases in the table (i.e. self[“phase”]).</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbars().
Defaults are {‘ls’: “none”, ‘marker’: “.”}.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.BSTable.uvplot">
<code class="descname">uvplot</code><span class="sig-paren">(</span><em>uvunit=None</em>, <em>conj=True</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.BSTable.uvplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot uv-plot on the current axes.
This method uses matplotlib.pyplot.plot().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>conj</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – if conj=True, it will plot complex conjugate components (i.e. (-u, -v)).</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot.
Defaults are {‘ls’: “none”, ‘marker’: “.”}</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sparselab.uvdata.BSTable.uvunit">
<code class="descname">uvunit</code><em class="property"> = 'lambda'</em><a class="headerlink" href="#sparselab.uvdata.BSTable.uvunit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sparselab.uvdata.CATable">
<em class="property">class </em><code class="descclassname">sparselab.uvdata.</code><code class="descname">CATable</code><span class="sig-paren">(</span><em>data=None</em>, <em>index=None</em>, <em>columns=None</em>, <em>dtype=None</em>, <em>copy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.CATable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sparselab.uvdata._UVTable</span></code></p>
<dl class="method">
<dt id="sparselab.uvdata.CATable.ave_catable">
<code class="descname">ave_catable</code><span class="sig-paren">(</span><em>Integ=300.0</em>, <em>dofreq=2</em>, <em>minpoint=2</em>, <em>uvwsep=1</em>, <em>k=1</em>, <em>flagweight=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.CATable.ave_catable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>catable</strong> (<em>CATable object</em>) – input catable</li>
<li><strong>Integ</strong> (<em>float</em>) – Integration time (sec)</li>
<li><strong>dofreq</strong> (<em>int; default = 2</em>) – <dl class="docutils">
<dt>Parameter for multi-frequency data.</dt>
<dd>dofreq = 0: calculate weights and sigmas over IFs and channels
dofreq = 1: calculate weights and sigmas over channels at each IF
dofreq = 2: calculate weights and sigmas at each IF and Channel</dd>
</dl>
</li>
<li><strong>flagweight</strong> (<em>boolean; default = True</em>) – Select calculating weight using or not using weight of original data</li>
<li><strong>minpoint</strong> (<em>int; default = 2</em>) – minimum number of data points</li>
<li><strong>uvwsep</strong> (<em>int; default = 1</em>) – a number of separations to entire time period to calculate u, v, w
using a spline interpolation</li>
<li><strong>k</strong> (<em>int; default = 1</em>) – The degree of the spline fit</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">uvdata.CATable object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sparselab.uvdata.CATable.catable_columns">
<code class="descname">catable_columns</code><em class="property"> = ['utc', 'gsthour', 'freq', 'stokesid', 'ifid', 'chid', 'ch', 'u1', 'v1', 'w1', 'uvdist1', 'u2', 'v2', 'w2', 'uvdist2', 'u3', 'v3', 'w3', 'uvdist3', 'u4', 'v4', 'w4', 'uvdist4', 'uvdistmin', 'uvdistmax', 'uvdistave', 'st1', 'st2', 'st3', 'st4', 'amp', 'sigma', 'logamp', 'logsigma']</em><a class="headerlink" href="#sparselab.uvdata.CATable.catable_columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sparselab.uvdata.CATable.catable_types">
<code class="descname">catable_types</code><em class="property"> = [&lt;function asarray&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.int32'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;, &lt;type 'numpy.float64'&gt;]</em><a class="headerlink" href="#sparselab.uvdata.CATable.catable_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.CATable.radplot">
<code class="descname">radplot</code><span class="sig-paren">(</span><em>uvdtype='ave'</em>, <em>uvunit=None</em>, <em>errorbar=True</em>, <em>model=None</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.CATable.radplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot log(closure amplitudes) as a function of baseline lengths
on the current axes. This method uses matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbar().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvdtype</strong> (<em>str</em><em>, </em><em>default = &quot;ave&quot;</em>) – <dl class="docutils">
<dt>The type of the baseline length plotted along the horizontal axis.</dt>
<dd>”max”: maximum of four baselines (=self[“uvdistmax”])
“min”: minimum of four baselines (=self[“uvdistmin”])
“ave”: average of four baselines (=self[“uvdistave”])</dd>
</dl>
</li>
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>errorbar</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – <p>If errorbar is True, it will plot data with errorbars using
matplotlib.pyplot.errorbar(). Otherwise, it will plot data without
errorbars using matplotlib.pyplot.plot().</p>
<p>If you plot model closure phases (i.e. model is not None),
it will plot without errobars regardless of this parameter.</p>
</li>
<li><strong>model</strong> (<em>dict-like such as pd.DataFrame</em><em>, </em><em>pd.Series</em><em>, </em><em>default is None</em>) – Model data sets. Model closure amplitudes must be given by model[“camod”].
Otherwise, it will plot closure amplitudes in the table (i.e. self[“logamp”]).</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbars().
Defaults are {‘ls’: “none”, ‘marker’: “.”}.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.CATable.uvplot">
<code class="descname">uvplot</code><span class="sig-paren">(</span><em>uvunit=None</em>, <em>conj=True</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.CATable.uvplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot uv-plot on the current axes.
This method uses matplotlib.pyplot.plot().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>conj</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – if conj=True, it will plot complex conjugate components (i.e. (-u, -v)).</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot.
Defaults are {‘ls’: “none”, ‘marker’: “.”}</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sparselab.uvdata.CATable.uvunit">
<code class="descname">uvunit</code><em class="property"> = 'lambda'</em><a class="headerlink" href="#sparselab.uvdata.CATable.uvunit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sparselab.uvdata.GVisTable">
<em class="property">class </em><code class="descclassname">sparselab.uvdata.</code><code class="descname">GVisTable</code><span class="sig-paren">(</span><em>data=None</em>, <em>index=None</em>, <em>columns=None</em>, <em>dtype=None</em>, <em>copy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.GVisTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sparselab.uvdata._UVTable</span></code></p>
<p>This class is for handling two dimentional tables of full complex visibilities
and amplitudes. The class inherits pandas.DataFrame class, so you can use this
class like pandas.DataFrame. The class also has additional methods to edit,
visualize and convert data.</p>
<dl class="method">
<dt id="sparselab.uvdata.GVisTable.fftshift">
<code class="descname">fftshift</code><span class="sig-paren">(</span><em>fitsdata</em>, <em>fgfov=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.GVisTable.fftshift" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vistable</strong> (<em>pandas.Dataframe object</em>) – input visibility table</li>
<li><strong>fitsdata</strong> (<em>imdata.IMFITS object</em>) – input imdata.IMFITS object</li>
<li><strong>fgfov</strong> (<em>int</em>) – a number of gridded FOV/original FOV</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Output: pandas.Dataframe object</p>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.GVisTable.fit_beam">
<code class="descname">fit_beam</code><span class="sig-paren">(</span><em>angunit='mas'</em>, <em>errweight=0.0</em>, <em>ftsign=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.GVisTable.fit_beam" title="Permalink to this definition">¶</a></dt>
<dd><p>This function estimates the synthesized beam size at natural weighting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>angunit</strong> (<em>string</em>) – Angular unit (uas, mas, asec or arcsec, amin or arcmin, degree)</li>
<li><strong>errweight</strong> (<em>float; experimental</em>) – index for errer weighting</li>
<li><strong>ftsign</strong> (<em>integer</em>) – a sign for fourier matrix</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.GVisTable.radplot_amp">
<code class="descname">radplot_amp</code><span class="sig-paren">(</span><em>uvunit=None</em>, <em>errorbar=True</em>, <em>model=None</em>, <em>modeltype='amp'</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.GVisTable.radplot_amp" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot visibility amplitudes as a function of baseline lengths
on the current axes. This method uses matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbar().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>errorbar</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – <p>If errorbar is True, it will plot data with errorbars using
matplotlib.pyplot.errorbar(). Otherwise, it will plot data without
errorbars using matplotlib.pyplot.plot().</p>
<p>If you plot model closure phases (i.e. model is not None),
it will plot without errobars regardless of this parameter.</p>
</li>
<li><strong>model</strong> (<em>dict-like such as pd.DataFrame</em><em>, </em><em>pd.Series</em><em>, </em><em>default is None</em>) – Model data sets. Model amplitudes must be given by model[“fcvampmod”]
for full complex visibilities (modeltype=”fcv”) or model[“ampmod”]
for visibility amplitudes (modeltype=”amp”).
Otherwise, it will plot amplitudes in the table (i.e. self[“amp”]).</li>
<li><strong>modeltype</strong> (<em>string</em><em>, </em><em>default = &quot;amp&quot;</em>) – The type of models. If you would plot model amplitudes, set modeltype=”amp”.
Else if you would plot model full complex visibilities, set modeltype=”fcv”.</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbars().
Defaults are {‘ls’: “none”, ‘marker’: “.”}.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.GVisTable.radplot_phase">
<code class="descname">radplot_phase</code><span class="sig-paren">(</span><em>uvunit=None</em>, <em>errorbar=True</em>, <em>model=None</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.GVisTable.radplot_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot visibility phases as a function of baseline lengths
on the current axes. This method uses matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbar().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>errorbar</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – <p>If errorbar is True, it will plot data with errorbars using
matplotlib.pyplot.errorbar(). Otherwise, it will plot data without
errorbars using matplotlib.pyplot.plot().</p>
<p>If you plot model closure phases (i.e. model is not None),
it will plot without errobars regardless of this parameter.</p>
</li>
<li><strong>model</strong> (<em>dict-like such as pd.DataFrame</em><em>, </em><em>pd.Series</em><em>, </em><em>default is None</em>) – Model data sets. Model phases must be given by model[“fcvphamod”].
Otherwise, it will plot amplitudes in the table (i.e. self[“phase”]).</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbars().
Defaults are {‘ls’: “none”, ‘marker’: “.”}.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.GVisTable.recalc_uvdist">
<code class="descname">recalc_uvdist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.GVisTable.recalc_uvdist" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-calculate the baseline length from self[“u”] and self[“v”].</p>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.GVisTable.uvplot">
<code class="descname">uvplot</code><span class="sig-paren">(</span><em>uvunit=None</em>, <em>conj=True</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.GVisTable.uvplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot uv-plot on the current axes.
This method uses matplotlib.pyplot.plot().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>conj</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – if conj=True, it will plot complex conjugate components (i.e. (-u, -v)).</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot.
Defaults are {‘ls’: “none”, ‘marker’: “.”}</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sparselab.uvdata.UVFITS">
<em class="property">class </em><code class="descclassname">sparselab.uvdata.</code><code class="descname">UVFITS</code><span class="sig-paren">(</span><em>infile</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.UVFITS" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a class to load uvfits data and edit data sets before making tables
for imaging.</p>
<p>The instance of this class can be initialized by loading an uvfits file.
Currently, this function can read only single-source uvfits file with
AIPS AN, FQ tables. The data will be uv-sorted after data loading.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>infile</strong> (<em>string</em>) – input uvfits file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">uvdata.UVFITS object</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sparselab.uvdata.UVFITS.make_vistable">
<code class="descname">make_vistable</code><span class="sig-paren">(</span><em>flag=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.UVFITS.make_vistable" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert visibility data to a two dimentional table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>flag</strong> (<em>boolean</em>) – if flag=True, data with weights &lt;= 0 or sigma &lt;=0 will be ignored.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">uvdata.VisTable object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.UVFITS.read_uvfits">
<code class="descname">read_uvfits</code><span class="sig-paren">(</span><em>infile</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.UVFITS.read_uvfits" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the uvfits file. Currently, this function can read only
single-source uvfits file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>infile</strong> (<em>string</em>) – input uvfits file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">uvdata.UVFITS object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.UVFITS.select_stokes">
<code class="descname">select_stokes</code><span class="sig-paren">(</span><em>stokes='I'</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.UVFITS.select_stokes" title="Permalink to this definition">¶</a></dt>
<dd><p>Pick up single polarization data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stokes</strong> (<em>string; default=&quot;I&quot;</em>) – Output stokes parameters.
Availables are [“I”, “Q”, “U”, “V”, “LL”, “RR”, “RL”, “LR”].</td>
</tr>
</tbody>
</table>
<p>Output: uvdata.UVFITS object</p>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.UVFITS.uvsort">
<code class="descname">uvsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.UVFITS.uvsort" title="Permalink to this definition">¶</a></dt>
<dd><p>Check station IDs of each visibility and switch its order if “st1” &gt; “st2”.
Then, data will be TB-sorted.</p>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.UVFITS.weightcal">
<code class="descname">weightcal</code><span class="sig-paren">(</span><em>dofreq=0</em>, <em>solint=120.0</em>, <em>minpoint=2</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.UVFITS.weightcal" title="Permalink to this definition">¶</a></dt>
<dd><p>This method will recalculate sigmas and weights of data from scatter
in full complex visibilities over specified frequency and time segments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dofreq</strong> (<em>int; default = 0</em>) – <dl class="docutils">
<dt>Parameter for multi-frequency data sets.</dt>
<dd>dofreq = 0: calculate weights and sigmas over IFs and channels
dofreq = 1: calculate weights and sigmas over channels at each IF
dofreq = 2: calculate weights and sigmas at each IF and Channel</dd>
</dl>
</li>
<li><strong>solint</strong> (<em>float; default = 120.</em>) – solution interval in sec</li>
<li><strong>minpoint</strong> (<em>int; default=2</em>) – A minimum number of points that weight will be estimated.
For data points that do not have surrounding data points more than
this value, data will be flagged.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns: uvdata.UVFITS object</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sparselab.uvdata.VisTable">
<em class="property">class </em><code class="descclassname">sparselab.uvdata.</code><code class="descname">VisTable</code><span class="sig-paren">(</span><em>data=None</em>, <em>index=None</em>, <em>columns=None</em>, <em>dtype=None</em>, <em>copy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sparselab.uvdata._UVTable</span></code></p>
<p>This class is for handling two dimensional tables of full complex visibilities
and amplitudes. The class inherits pandas.DataFrame class, so you can use this
class like pandas.DataFrame. The class also has additional methods to edit,
visualize and convert data.</p>
<dl class="method">
<dt id="sparselab.uvdata.VisTable.ave_vistable">
<code class="descname">ave_vistable</code><span class="sig-paren">(</span><em>coherent=False</em>, <em>Integ=300.0</em>, <em>dofreq=2</em>, <em>flagweight=True</em>, <em>minpoint=2</em>, <em>uvwsep=1</em>, <em>k=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.ave_vistable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vistable</strong> (<em>VisTable object</em>) – input visibility table</li>
<li><strong>coherent</strong> (<em>boolean</em>) – Select coherent or incoherent averaging</li>
<li><strong>Integ</strong> (<em>float</em>) – Integration time</li>
<li><strong>dofreq</strong> (<em>int; default = 2</em>) – <dl class="docutils">
<dt>Parameter for multi-frequency data.</dt>
<dd>dofreq = 0: calculate weights and sigmas over IFs and channels
dofreq = 1: calculate weights and sigmas over channels at each IF
dofreq = 2: calculate weights and sigmas at each IF and Channel</dd>
</dl>
</li>
<li><strong>flagweight</strong> (<em>boolean; default = True</em>) – Select calculating weight using or not using weight of original data</li>
<li><strong>minpoint</strong> (<em>int; default = 2</em>) – minimum number of data points</li>
<li><strong>uvwsep</strong> (<em>int; default = 1</em>) – a number of separations to entire time period to calculate u, v, w
using a spline interpolation</li>
<li><strong>k</strong> (<em>int; default = 1</em>) – The degree of the spline fit</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">uvdata.VisTable object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.deblurr">
<code class="descname">deblurr</code><span class="sig-paren">(</span><em>thetamaj=1.309</em>, <em>thetamin=0.64</em>, <em>alpha=2.0</em>, <em>pa=78.0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.deblurr" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a special function for Sgr A* data, which deblurrs
visibility amplitudes and removes a dominant effect of scattering effects.</p>
<p>This method calculates a scattering kernel based on specified parameters
of the lambda-square scattering law, and devide visibility amplitudes
and their errors by corresponding kernel amplitudes.</p>
<p>(see Fish et al. 2014, ApJL for a reference.)</p>
<dl class="docutils">
<dt>Args: Default values are from Bower et al. 2006, ApJL</dt>
<dd><dl class="first last docutils">
<dt>thetamaj=1.309, thetamin=0.64 (float):</dt>
<dd>Factors for the scattering power law in mas/cm^(alpha)</dd>
<dt>alpha=2.0 (float):</dt>
<dd>Index of the scattering power law</dd>
<dt>pa=78.0 (float)</dt>
<dd>Position angle of the scattering kernel in degree</dd>
</dl>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">De-blurred visibility data in uvdata.VisTable object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.fit_beam">
<code class="descname">fit_beam</code><span class="sig-paren">(</span><em>angunit='mas'</em>, <em>errweight=0.0</em>, <em>ftsign=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.fit_beam" title="Permalink to this definition">¶</a></dt>
<dd><p>This method estimates the synthesized beam size at natural weighting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>angunit</strong> (<em>string</em>) – Angular unit (uas, mas, asec or arcsec, amin or arcmin, degree)</li>
<li><strong>errweight</strong> (<em>float; experimental</em>) – index for errer weighting</li>
<li><strong>ftsign</strong> (<em>integer</em>) – a sign for fourier matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">beam parameters in a dictionary.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.gridding">
<code class="descname">gridding</code><span class="sig-paren">(</span><em>fitsdata</em>, <em>fgfov=1</em>, <em>mu=1</em>, <em>mv=1</em>, <em>c=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.gridding" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vistable</strong> (<em>pandas.Dataframe object</em>) – input visibility table</li>
<li><strong>fitsdata</strong> (<em>imdata.IMFITS object</em>) – input imdata.IMFITS object</li>
<li><strong>fgfov</strong> (<em>int</em>) – a number of gridded FOV/original FOV</li>
<li><strong>mu</strong> (<em>int; default = 1</em>) – </li>
<li><strong>mv</strong> (<em>int; default = 1</em>) – parameter for spheroidal angular function
a number of cells for gridding</li>
<li><strong>c</strong> (<em>int; default = 1</em>) – parameter for spheroidal angular fuction
this parameter decides steepness of the function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">uvdata.GVisTable object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.make_bstable">
<code class="descname">make_bstable</code><span class="sig-paren">(</span><em>redundant=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.make_bstable" title="Permalink to this definition">¶</a></dt>
<dd><p>Form bi-spectra from complex visibilities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>redandant</strong> (<em>list of sets of redundant station IDs; default=None</em>) – If this is specified, non-redandant and non-trivial bispectra will be formed.
This is useful for EHT-like array that have redandant stations in the same site.
For example, if stations 1,2,3 and 4,5 are on the same sites, respectively, then
you can specify redundant=[[1,2,3],[4,5]].</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">uvdata.BSTable object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.make_catable">
<code class="descname">make_catable</code><span class="sig-paren">(</span><em>redundant=None</em>, <em>debias=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.make_catable" title="Permalink to this definition">¶</a></dt>
<dd><p>Form closure amplitudes from complex visibilities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>redandant</strong> (<em>list of sets of redundant station IDs; default=None</em>) – If this is specified, non-redandant and non-trivial closure amplitudes will be formed.
This is useful for EHT-like array that have redandant stations in the same site.
For example, if stations 1,2,3 and 4,5 are on the same sites, respectively, then
you can specify redundant=[[1,2,3],[4,5]].</li>
<li><strong>debias</strong> (<em>boolean</em><em>, </em><em>default=True</em>) – if debias==True, then closure amplitudes and log closure amplitudes will be debiased using
a formula for high-SNR limits.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">uvdata.CATable object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.radplot_amp">
<code class="descname">radplot_amp</code><span class="sig-paren">(</span><em>uvunit=None</em>, <em>errorbar=True</em>, <em>model=None</em>, <em>modeltype='amp'</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.radplot_amp" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot visibility amplitudes as a function of baseline lengths
on the current axes. This method uses matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbar().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>errorbar</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – <p>If errorbar is True, it will plot data with errorbars using
matplotlib.pyplot.errorbar(). Otherwise, it will plot data without
errorbars using matplotlib.pyplot.plot().</p>
<p>If you plot model closure phases (i.e. model is not None),
it will plot without errobars regardless of this parameter.</p>
</li>
<li><strong>model</strong> (<em>dict-like such as pd.DataFrame</em><em>, </em><em>pd.Series</em><em>, </em><em>default is None</em>) – Model data sets. Model amplitudes must be given by model[“fcvampmod”]
for full complex visibilities (modeltype=”fcv”) or model[“ampmod”]
for visibility amplitudes (modeltype=”amp”).
Otherwise, it will plot amplitudes in the table (i.e. self[“amp”]).</li>
<li><strong>modeltype</strong> (<em>string</em><em>, </em><em>default = &quot;amp&quot;</em>) – The type of models. If you would plot model amplitudes, set modeltype=”amp”.
Else if you would plot model full complex visibilities, set modeltype=”fcv”.</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbars().
Defaults are {‘ls’: “none”, ‘marker’: “.”}.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.radplot_phase">
<code class="descname">radplot_phase</code><span class="sig-paren">(</span><em>uvunit=None</em>, <em>errorbar=True</em>, <em>model=None</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.radplot_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot visibility phases as a function of baseline lengths
on the current axes. This method uses matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbar().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>errorbar</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – <p>If errorbar is True, it will plot data with errorbars using
matplotlib.pyplot.errorbar(). Otherwise, it will plot data without
errorbars using matplotlib.pyplot.plot().</p>
<p>If you plot model closure phases (i.e. model is not None),
it will plot without errobars regardless of this parameter.</p>
</li>
<li><strong>model</strong> (<em>dict-like such as pd.DataFrame</em><em>, </em><em>pd.Series</em><em>, </em><em>default is None</em>) – Model data sets. Model phases must be given by model[“fcvphamod”].
Otherwise, it will plot amplitudes in the table (i.e. self[“phase”]).</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot() or
matplotlib.pyplot.errorbars().
Defaults are {‘ls’: “none”, ‘marker’: “.”}.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.recalc_uvdist">
<code class="descname">recalc_uvdist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.recalc_uvdist" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-calculate the baseline length from self[“u”] and self[“v”].</p>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.snrcutoff">
<code class="descname">snrcutoff</code><span class="sig-paren">(</span><em>threshold=5</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.snrcutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Thesholding data with SNR (amp/sigma)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>threshold</strong> (<em>float; default=5</em>) – snrcutoff</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">uvdata.VisTable object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.uvplot">
<code class="descname">uvplot</code><span class="sig-paren">(</span><em>uvunit=None</em>, <em>conj=True</em>, <em>ls='none'</em>, <em>marker='.'</em>, <em>**plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.uvplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot uv-plot on the current axes.
This method uses matplotlib.pyplot.plot().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default = None</em>) – The unit of the baseline length. if uvunit is None, it will use
self.uvunit.</li>
<li><strong>conj</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – if conj=True, it will plot complex conjugate components (i.e. (-u, -v)).</li>
<li><strong>**plotargs</strong> – You can set parameters of matplotlib.pyplot.plot.
Defaults are {‘ls’: “none”, ‘marker’: “.”}</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.uvdata.VisTable.uvsort">
<code class="descname">uvsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.VisTable.uvsort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort uvdata. First, it will check station IDs of each visibility
and switch its order if “st1” &gt; “st2”. Then, data will be TB-sorted.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sparselab.uvdata.read_bstable">
<code class="descclassname">sparselab.uvdata.</code><code class="descname">read_bstable</code><span class="sig-paren">(</span><em>filename</em>, <em>uvunit=None</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.read_bstable" title="Permalink to this definition">¶</a></dt>
<dd><p>This fuction loads uvdata.BSTable from an input csv file using pd.read_csv().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> – str, pathlib.Path, py._path.local.LocalPath or any object with a read()
method (such as a file handle or StringIO)</li>
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default is None</em>) – units of uvdistance for plotting. If uvunit is None, uvunit will be
inferred from the maximum baseline length. Availables are [“l[ambda]”,
“kl[ambda]”, “ml[ambda]”, “gl[ambda]”, “m”, “km”].</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">uvdata.BSTable object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sparselab.uvdata.read_catable">
<code class="descclassname">sparselab.uvdata.</code><code class="descname">read_catable</code><span class="sig-paren">(</span><em>filename</em>, <em>uvunit=None</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.read_catable" title="Permalink to this definition">¶</a></dt>
<dd><p>This fuction loads uvdata.CATable from an input csv file using pd.read_csv().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> – str, pathlib.Path, py._path.local.LocalPath or any object with a read()
method (such as a file handle or StringIO)</li>
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default is None</em>) – units of uvdistance for plotting. If uvunit is None, uvunit will be
inferred from the maximum baseline length. Availables are [“l[ambda]”,
“kl[ambda]”, “ml[ambda]”, “gl[ambda]”, “m”, “km”].</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">uvdata.CATable object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sparselab.uvdata.read_vistable">
<code class="descclassname">sparselab.uvdata.</code><code class="descname">read_vistable</code><span class="sig-paren">(</span><em>filename</em>, <em>uvunit=None</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.uvdata.read_vistable" title="Permalink to this definition">¶</a></dt>
<dd><p>This fuction loads uvdata.VisTable from an input csv file using pd.read_csv().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> – str, pathlib.Path, py._path.local.LocalPath or any object with a read()
method (such as a file handle or StringIO)</li>
<li><strong>uvunit</strong> (<em>str</em><em>, </em><em>default is None</em>) – units of uvdistance for plotting. If uvunit is None, uvunit will be
inferred from the maximum baseline length. Availables are [“l[ambda]”,
“kl[ambda]”, “ml[ambda]”, “gl[ambda]”, “m”, “km”].</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">uvdata.VisTable object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="sparselab-imaging">
<h2>2.3. sparselab.imaging<a class="headerlink" href="#sparselab-imaging" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-sparselab.imaging"></span><dl class="function">
<dt id="sparselab.imaging.iterative_imaging">
<code class="descclassname">sparselab.imaging.</code><code class="descname">iterative_imaging</code><span class="sig-paren">(</span><em>initimage</em>, <em>imageprm</em>, <em>Niter=10</em>, <em>dothres=True</em>, <em>threstype='hard'</em>, <em>threshold=0.3</em>, <em>doshift=True</em>, <em>shifttype='com'</em>, <em>dowinmod=False</em>, <em>imagewin=None</em>, <em>doconv=True</em>, <em>convprm={}</em>, <em>save_totalflux=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imaging.iterative_imaging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sparselab.imaging.static_dft_imaging">
<code class="descclassname">sparselab.imaging.</code><code class="descname">static_dft_imaging</code><span class="sig-paren">(</span><em>initimage</em>, <em>imagewin=None</em>, <em>vistable=None</em>, <em>amptable=None</em>, <em>bstable=None</em>, <em>catable=None</em>, <em>lambl1=-1.0</em>, <em>lambtv=-1</em>, <em>lambtsv=-1</em>, <em>normlambda=True</em>, <em>nonneg=True</em>, <em>logreg=False</em>, <em>niter=1000</em>, <em>totalflux=None</em>, <em>fluxconst=False</em>, <em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imaging.static_dft_imaging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sparselab.imaging.static_dft_pipeline">
<code class="descclassname">sparselab.imaging.</code><code class="descname">static_dft_pipeline</code><span class="sig-paren">(</span><em>initimage, imagefunc=&lt;function iterative_imaging&gt;, imageprm={}, imagefargs={}, lambl1s=[-1.0], lambtvs=[-1.0], lambtsvs=[-1.0], workdir='./', skip=False, sumtablefile='summary.csv', docv=False, seed=1, nfold=10, cvsumtablefile='summary.cv.csv', angunit='uas', uvunit='gl'</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imaging.static_dft_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>A pipeline imaging function using static_dft_imaging and related fucntions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>initimage</strong> (<em>imdata.IMFITS object</em>) – initial image</li>
<li><strong>imagefunc</strong> (<em>function; default=uvdata.iterative_imaging</em>) – <dl class="docutils">
<dt>Function of imageing. It should be defined as</dt>
<dd>def imagefunc(initimage, imageprm, <a href="#id1"><span class="problematic" id="id2">**</span></a>imagefargs)</dd>
</dl>
</li>
<li><strong>imageprm</strong> (<em>dict-like; default={}</em>) – parameter sets for each imaging</li>
<li><strong>imagefargs</strong> (<em>dict-like; default={}</em>) – parameter sets for imagefunc</li>
<li><strong>workdir</strong> (<em>string; default = &quot;./&quot;</em>) – The directory where images and summary files will be output.</li>
<li><strong>sumtablefile</strong> (<em>string; default = &quot;summary.csv&quot;</em>) – The name of the output csv file that summerizes results.</li>
<li><strong>docv</strong> (<em>boolean; default = False</em>) – Do cross validation</li>
<li><strong>seed</strong> (<em>integer; default = 1</em>) – Random seed to make CV data sets.</li>
<li><strong>nfold</strong> (<em>integer; default = 10</em>) – Number of folds in CV.</li>
<li><strong>cvsumtablefile</strong> (<em>string; default = &quot;cvsummary.csv&quot;</em>) – The name of the output csv file that summerizes results of CV.</li>
<li><strong>angunit</strong> (<em>string; default = None</em>) – Angular units for plotting results.</li>
<li><strong>uvunit</strong> (<em>string; default = None</em>) – Units of baseline lengths for plotting results.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>pd.DataFrame table summerising statistical quantities of each</dt>
<dd><p class="first last">parameter set.</p>
</dd>
<dt>cvsumtable (if docv=True):</dt>
<dd><p class="first last">pd.DataFrame table summerising results of cross validation.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">sumtable</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sparselab.imaging.static_dft_plots">
<code class="descclassname">sparselab.imaging.</code><code class="descname">static_dft_plots</code><span class="sig-paren">(</span><em>outimage</em>, <em>imageprm={}</em>, <em>filename=None</em>, <em>angunit='mas'</em>, <em>uvunit='ml'</em>, <em>plotargs={'ms': 1.0}</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imaging.static_dft_plots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sparselab.imaging.static_dft_stats">
<code class="descclassname">sparselab.imaging.</code><code class="descname">static_dft_stats</code><span class="sig-paren">(</span><em>initimage</em>, <em>imagewin=None</em>, <em>vistable=None</em>, <em>amptable=None</em>, <em>bstable=None</em>, <em>catable=None</em>, <em>lambl1=1.0</em>, <em>lambtv=-1</em>, <em>lambtsv=1</em>, <em>logreg=False</em>, <em>normlambda=True</em>, <em>totalflux=None</em>, <em>fluxconst=False</em>, <em>istokes=0</em>, <em>ifreq=0</em>, <em>fulloutput=True</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.imaging.static_dft_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-sparselab.mfista">
<span id="sparselab-mfista"></span><h2>2.4. sparselab.mfista<a class="headerlink" href="#module-sparselab.mfista" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sparselab.mfista.mfista_imaging">
<code class="descclassname">sparselab.mfista.</code><code class="descname">mfista_imaging</code><span class="sig-paren">(</span><em>initimage</em>, <em>vistable</em>, <em>lambl1=-1.0</em>, <em>lambtv=-1</em>, <em>lambtsv=-1</em>, <em>normlambda=True</em>, <em>nonneg=True</em>, <em>looe=True</em>, <em>totalflux=None</em>, <em>fluxconst=False</em>, <em>istokes=0</em>, <em>ifreq=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.mfista.mfista_imaging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sparselab.mfista.mfista_pipeline">
<code class="descclassname">sparselab.mfista.</code><code class="descname">mfista_pipeline</code><span class="sig-paren">(</span><em>initimage, imageprm={}, lambl1s=[-1.0], lambtvs=[-1.0], lambtsvs=[-1.0], workdir='./', skip=False, sumtablefile='summary.csv', docv=False, seed=1, nfold=10, cvsumtablefile='summary.cv.csv', angunit='uas', uvunit='gl'</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.mfista.mfista_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>A pipeline imaging function using static_dft_imaging and related fucntions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>initimage</strong> (<em>imdata.IMFITS object</em>) – initial image</li>
<li><strong>imageprm</strong> (<em>dict-like; default={}</em>) – parameter sets for each imaging</li>
<li><strong>workdir</strong> (<em>string; default = &quot;./&quot;</em>) – The directory where images and summary files will be output.</li>
<li><strong>sumtablefile</strong> (<em>string; default = &quot;summary.csv&quot;</em>) – The name of the output csv file that summerizes results.</li>
<li><strong>docv</strong> (<em>boolean; default = False</em>) – Do cross validation</li>
<li><strong>seed</strong> (<em>integer; default = 1</em>) – Random seed to make CV data sets.</li>
<li><strong>nfold</strong> (<em>integer; default = 10</em>) – Number of folds in CV.</li>
<li><strong>cvsumtablefile</strong> (<em>string; default = &quot;cvsummary.csv&quot;</em>) – The name of the output csv file that summerizes results of CV.</li>
<li><strong>angunit</strong> (<em>string; default = None</em>) – Angular units for plotting results.</li>
<li><strong>uvunit</strong> (<em>string; default = None</em>) – Units of baseline lengths for plotting results.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>pd.DataFrame table summerising statistical quantities of each</dt>
<dd><p class="first last">parameter set.</p>
</dd>
<dt>cvsumtable (if docv=True):</dt>
<dd><p class="first last">pd.DataFrame table summerising results of cross validation.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">sumtable</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sparselab.mfista.mfista_plots">
<code class="descclassname">sparselab.mfista.</code><code class="descname">mfista_plots</code><span class="sig-paren">(</span><em>outimage</em>, <em>imageprm={}</em>, <em>filename=None</em>, <em>angunit='mas'</em>, <em>uvunit='gl'</em>, <em>plotargs={'ms': 1.0}</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.mfista.mfista_plots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sparselab.mfista.mfista_stats">
<code class="descclassname">sparselab.mfista.</code><code class="descname">mfista_stats</code><span class="sig-paren">(</span><em>initimage</em>, <em>vistable</em>, <em>lambl1=-1.0</em>, <em>lambtv=-1</em>, <em>lambtsv=-1</em>, <em>normlambda=True</em>, <em>nonneg=True</em>, <em>looe=True</em>, <em>totalflux=None</em>, <em>fluxconst=False</em>, <em>istokes=0</em>, <em>ifreq=0</em>, <em>fulloutput=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.mfista.mfista_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-sparselab.ft">
<span id="sparselab-ft"></span><h2>2.5. sparselab.ft<a class="headerlink" href="#module-sparselab.ft" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="sparselab.ft.FDFTable">
<em class="property">class </em><code class="descclassname">sparselab.ft.</code><code class="descname">FDFTable</code><span class="sig-paren">(</span><em>data=None</em>, <em>index=None</em>, <em>columns=None</em>, <em>dtype=None</em>, <em>copy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">pandas.core.frame.DataFrame</span></code></p>
<dl class="method">
<dt id="sparselab.ft.FDFTable.add_gaussian_source">
<code class="descname">add_gaussian_source</code><span class="sig-paren">(</span><em>RM=0</em>, <em>fwhm=20</em>, <em>Pamp=0.0</em>, <em>Pxi=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.add_gaussian_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.FDFTable.add_point_source">
<code class="descname">add_point_source</code><span class="sig-paren">(</span><em>RM=0</em>, <em>Pamp=0.0</em>, <em>Pxi=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.add_point_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.FDFTable.add_rectlinear_source">
<code class="descname">add_rectlinear_source</code><span class="sig-paren">(</span><em>RMrange=[0, 0], Pamp=0.0, Pxi=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.add_rectlinear_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.FDFTable.blankFDF">
<code class="descname">blankFDF</code><span class="sig-paren">(</span><em>dRM=1.0</em>, <em>refRM=0.0</em>, <em>Nrm=100</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.blankFDF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.FDFTable.dirtybeam">
<code class="descname">dirtybeam</code><span class="sig-paren">(</span><em>ptable</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.dirtybeam" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.FDFTable.dirtyfdf">
<code class="descname">dirtyfdf</code><span class="sig-paren">(</span><em>ptable</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.dirtyfdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.FDFTable.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>axs=None, ls='-', marker='None', xlim=[None, None], label='', **plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.FDFTable.to_csv">
<code class="descname">to_csv</code><span class="sig-paren">(</span><em>filename</em>, <em>float_format='%22.16e'</em>, <em>index=False</em>, <em>index_label=False</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Output table into csv files using pd.DataFrame.to_csv().
Default parameter will be</p>
<blockquote>
<div>float_format=r”%22.16e”
index=False
index_label=False.</div></blockquote>
<p>see DocStrings for pd.DataFrame.to_csv().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em><em> or </em><em>filehandle</em>) – output filename</li>
<li><strong>**args</strong> – other arguments of pd.DataFrame.to_csv()</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.ft.FDFTable.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.FDFTable.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sparselab.ft.PTable">
<em class="property">class </em><code class="descclassname">sparselab.ft.</code><code class="descname">PTable</code><span class="sig-paren">(</span><em>data=None</em>, <em>index=None</em>, <em>columns=None</em>, <em>dtype=None</em>, <em>copy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.PTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">pandas.core.frame.DataFrame</span></code></p>
<dl class="method">
<dt id="sparselab.ft.PTable.gencvtables">
<code class="descname">gencvtables</code><span class="sig-paren">(</span><em>nfold=10</em>, <em>seed=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.PTable.gencvtables" title="Permalink to this definition">¶</a></dt>
<dd><p>This method generates self sets for N-fold cross varidations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nfolds</strong> (<em>int</em>) – the number of folds</li>
<li><strong>seed</strong> (<em>int</em>) – the seed number of pseudo ramdam numbers</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="sparselab.ft.PTable.observe">
<code class="descname">observe</code><span class="sig-paren">(</span><em>fdftable</em>, <em>sigma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.PTable.observe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.PTable.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>axs=None, ls='none', marker='.', xlim=[None, None], ploterror=False, **plotargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.PTable.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.PTable.rmsf_size">
<code class="descname">rmsf_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.PTable.rmsf_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sparselab.ft.PTable.to_csv">
<code class="descname">to_csv</code><span class="sig-paren">(</span><em>filename</em>, <em>float_format='%22.16e'</em>, <em>index=False</em>, <em>index_label=False</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.PTable.to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Output table into csv files using pd.DataFrame.to_csv().
Default parameter will be</p>
<blockquote>
<div>float_format=r”%22.16e”
index=False
index_label=False.</div></blockquote>
<p>see DocStrings for pd.DataFrame.to_csv().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em><em> or </em><em>filehandle</em>) – output filename</li>
<li><strong>**args</strong> – other arguments of pd.DataFrame.to_csv()</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sparselab.ft.PTable.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>ref='lambsq'</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.PTable.update" title="Permalink to this definition">¶</a></dt>
<dd><p>ref=[“lambsq”, “lambda”, “freq”]</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sparselab.ft.read_fdftable">
<code class="descclassname">sparselab.ft.</code><code class="descname">read_fdftable</code><span class="sig-paren">(</span><em>filename</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.read_fdftable" title="Permalink to this definition">¶</a></dt>
<dd><p>This fuction loads FDF table from an input csv file using pd.read_csv().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> – str, pathlib.Path, py._path.local.LocalPath or any object with a read()
method (such as a file handle or StringIO)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">uvdata.VisTable object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sparselab.ft.read_ptable">
<code class="descclassname">sparselab.ft.</code><code class="descname">read_ptable</code><span class="sig-paren">(</span><em>filename</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.ft.read_ptable" title="Permalink to this definition">¶</a></dt>
<dd><p>This fuction loads FDF table from an input csv file using pd.read_csv().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> – str, pathlib.Path, py._path.local.LocalPath or any object with a read()
method (such as a file handle or StringIO)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">uvdata.VisTable object</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-sparselab.util">
<span id="sparselab-util"></span><h2>2.6. sparselab.util<a class="headerlink" href="#module-sparselab.util" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sparselab.util.angconv">
<code class="descclassname">sparselab.util.</code><code class="descname">angconv</code><span class="sig-paren">(</span><em>unit1='deg'</em>, <em>unit2='deg'</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.util.angconv" title="Permalink to this definition">¶</a></dt>
<dd><p>return a conversion factor from unit1 to unit2
Available angular units are uas, mas, asec or arcsec, amin or arcmin and degree.</p>
</dd></dl>

<dl class="function">
<dt id="sparselab.util.matplotlibrc">
<code class="descclassname">sparselab.util.</code><code class="descname">matplotlibrc</code><span class="sig-paren">(</span><em>nrows=1</em>, <em>ncols=1</em>, <em>width=250</em>, <em>height=250</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.util.matplotlibrc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sparselab.util.prt">
<code class="descclassname">sparselab.util.</code><code class="descname">prt</code><span class="sig-paren">(</span><em>obj</em>, <em>indent=''</em>, <em>output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sparselab.util.prt" title="Permalink to this definition">¶</a></dt>
<dd><p>a useful print function</p>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../_static/install.html" class="btn btn-neutral" title="1. Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-, Sparselab Developper Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0beta',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>